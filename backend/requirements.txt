# Python 3.13+ compatibility - setuptools provides distutils
setuptools>=75.0.0

fastapi==0.104.1
uvicorn[standard]==0.24.0
celery==5.3.4
redis==5.0.1
# Pydantic - versões compatíveis com Docling 2.x
pydantic>=2.9.0,<3.0.0
pydantic-core>=2.23.0,<3.0.0
pydantic-settings>=2.3.0,<3.0.0
httpx[socks]>=0.27.0  # HTTP client with SOCKS proxy support for crawler
python-multipart==0.0.6
python-dotenv==1.0.0

# Docling and dependencies (use latest compatible version)
docling>=2.0.0,<3.0.0
beautifulsoup4>=4.12.3,<5.0.0
lxml>=5.0.0  # Fast HTML/XML parser for BeautifulSoup
requests>=2.32.2,<3.0.0

# PDF processing
# qpdf instalado via apt-get nos Dockerfiles (usado para split)
PyPDF2>=3.0.0  # Re-added for PDF merge functionality in crawler

# Web Scraping - Crawler
playwright>=1.40.0  # Browser automation for JS-heavy sites
python-socks>=2.4.0  # SOCKS proxy protocol support

# Google Drive integration
google-api-python-client==2.108.0
google-auth==2.25.2
google-auth-oauthlib==1.1.0
google-auth-httplib2==0.2.0

# Dropbox integration
dropbox==11.36.2

# Logging
structlog==23.2.0

# Testing
pytest==7.4.3
pytest-asyncio==0.21.1
pytest-cov==4.1.0

# Database (MySQL)
sqlalchemy>=2.0.0,<3.0.0
pymysql>=1.1.0
alembic>=1.13.0

# Crawler scheduling
croniter>=2.0.0  # Cron expression parsing for recurring crawlers
pytz>=2024.1     # Timezone handling for scheduled crawlers

# Authentication & Security
bcrypt>=4.0.0
python-jose[cryptography]>=3.3.0
passlib[bcrypt]>=1.7.4

# Elasticsearch
elasticsearch>=8.11.0,<9.0.0

# MinIO Object Storage
minio>=7.2.0,<8.0.0

# Audio transcription - multiple providers supported
# Default: faster-whisper (recommended, 4-5x faster)
faster-whisper>=1.0.0  # Recommended: Optimized Whisper using CTranslate2
# openai-whisper>=20240930  # Fallback: Original OpenAI Whisper implementation (slow to compile)
openai>=1.0.0  # Optional: For openai-api provider (cloud-based)
pydub>=0.25.1  # Audio file handling and metadata extraction
ffmpeg-python>=0.2.0  # Audio format conversion support
